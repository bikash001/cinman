{% load static %}

<!DOCTYPE html>
<html>
<head>
	<title>home</title>
	<link rel="stylesheet" type="text/css" href="{% static 'bootstrap.min.css' %}"/>
	<link rel="stylesheet" type="text/css" href="{% static 'base.css' %}"/>
	<link rel="stylesheet" type="text/css" href="{% static 'home/css/home.css' %}"/>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style type="text/css">
		.list div:nth-child(odd) {
			background-color: green;
		}
		.list div:nth-child(even) {
			background-color: grey;
		}
	</style>
</head>
<body>
<div class="container">
	<div class="row">
		<div class="col-md-12">
			<nav class="navbar navbar-inverse" style="margin-top: 10px; background: #05816b;">
				<div class="container-fluid text-center">
					<ul class="nav navbar-nav" style="width: 100%;">
						<li id="home" class="active" style="width: 20%;"><a href="#">Home</a></li>
						<li id="message" style="width: 20%;"><a href="{% url 'home:messages' %}">Messages</a></li>
						<li id="notification" style="width: 20%;"><a href="{% url 'home:notifications' %}">Notifications</a></li>
						<li id="status" style="width: 20%;"><a href="{% url 'home:systemstats' %}">System Status</a></li>
						<li style="width: 20%;"><a href="{% url 'home:logout' %}">Logout</a></li>
					</ul>
				</div>
			</nav>
		</div>		
	</div>
	<div class="row" style="margin:0">
	<div class="col-md-12 no-pad" style="display: flex;">
		<div style="flex: 1; margin: 2px;">
			<div style="background-color: white; padding: 0 15px; height: 81vh; overflow-y: auto;">
				<div>
					<h3 class="text-center">Superuser</h3><hr>
					<div>
						<b>Name:</b> {{superuser.name}}<br>
						<b>Email:</b> {{superuser.email}}<br>
						<b>Mobile:</b> {{superuser.mobile}}
					</div>
				</div>
				<div>
					<hr>
					<h3 class="text-center">Administrators</h3>
					{% for user in users %}
					<div style="margin-bottom: 10px;">
						<hr>
						<b>Name:</b> {{user.name}}<br>
						<b>Email:</b> {{user.email}}<br>
						<b>Mobile:</b> {{user.mobile}}
					</div>
					{% endfor %}
				</div>
			</div>
		</div>
		<div style="flex: 1; margin: 2px;">
			<div style="background-color: white; padding: 15px; margin-bottom: 17px;">
				Total Machines: <b>{{machines}}</b><br>
				Machines active: <b>{{actMachines}}</b>
			</div>
			<div>
				<img src="{% static 'home/img/CINManupd.png' %}" style="max-width: 100%; max-height: 100%; margin: auto;">
			</div>
			<div style="background-color: white; padding: 15px; margin-top: 17px;">
				Total Users: <b>{{usercount}}</b><br>
				Users active: <b>{{actUsers}}</b>
			</div>
		</div>
	    <div style="flex: 2; margin: 2px;">
		    <div  style="background-color: white; padding: 15px; overflow-y: auto; height: 81vh;">
		    	<div>
		    		<button id="refresh" style="float: right;" class="btn btn-primary">Refresh</button>
		    	</div>
	    		<div class="row" style="clear: both; margin-top: 15px; height: 90%;">
		    		<div class="col-md-6" style="height: 100%;">
		    			<h4 class="text-center">Active systems</h4>
		    			<div class="list" style="color: black; height: 90%; overflow-y: auto; border: 1px solid black;">
		    				{% for ip in ips %}
		    					<div style="padding: 5px;">{{ip}}</div>
		    				{% endfor %}
		    			</div>
		    		</div>
		    		<div class="col-md-6 text-center" style="height: 100%;">
		    			<h4 class="text-center">Active users</h4>
		    			<div class="list" style="color: black; height: 90%; overflow-y: auto; border: 1px solid black;">
			    			{% for x in users %}
		    					<div style="padding: 5px;">{{x}}</div>
		    				{% endfor %}
		    			</div>
		    		</div>
		    	</div>
		    </div>
	    </div>
	</div>
</div>
<script type="text/javascript" src="{% static 'jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'home/js/home.js' %}"></script>
</body>
</html>